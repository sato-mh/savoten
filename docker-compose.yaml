version: "3"

services:
  app:
    build:
      context: .
      dockerfile: ./Dockerfile.dev
    container_name: savoten_app
    volumes:
      - "./:/app/savoten"
    env_file: .env
    user: ${UID}:${GID}
    command: tail -f /dev/null
    db:
      image: mariadb:10.4.11-bionic
      volumes:
        - "./mariadb:/db"
      environment:
        MYSQL_ROOT_PASSWORD: password
        MYSQL_USER: python
        MYSQL_PASSWORD: python
        MYSQL_DATABASE: SAVOTEN
      ports:
        - "3306:3306"
